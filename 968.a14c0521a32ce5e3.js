"use strict";(self.webpackChunkDK_Associates_Admin=self.webpackChunkDK_Associates_Admin||[]).push([[968],{1968:(M,r,c)=>{c.r(r),c.d(r,{DocumentsModule:()=>N});var i=c(9808),d=c(4301),e=c(1223),u=c(9306),p=c(344),l=c(2509),m=c(9710),g=c(8953);function f(t,s){1&t&&e._UZ(0,"app-loader")}function v(t,s){if(1&t&&(e.TgZ(0,"h3",17),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.errMessage)}}function Z(t,s){if(1&t&&(e.TgZ(0,"h3",18),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.successMessage)}}let D=(()=>{class t{constructor(n,o,a){this.apiService=n,this.appService=o,this.router=a}ngOnInit(){}uploadDoc(n){this.errMessage=!1,this.successMessage=!1;let o=n.target.files;this.uploadedFile=!!(o&&o.length>0)&&o[0]}upload(){const n=new FormData;n.append("doc",this.uploadedFile),this.appService.loader=!0,this.apiService.uploadDoc(n).subscribe(o=>{this.appService.loader=!1,o&&o.success?this.successMessage="File Uploaded Successfully !":o&&!o.success&&(this.errMessage=o.message)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.s),e.Y36(p.z),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-document"]],decls:27,vars:3,consts:[[4,"ngIf"],[1,"content-wrapper"],[1,"content-header"],[1,"breadcrumb"],[1,"fa","fa-user"],[1,"content"],[1,"row"],[1,"col-xs-12"],[1,"box"],[1,"box-body"],[2,"height","85vh","overflow","auto"],[1,"form-group"],["class","err-message",4,"ngIf"],["class","success-message",4,"ngIf"],["for",""],["type","file","accept",".csv",1,"form-control",3,"change"],[1,"btn","btn-primary",3,"click"],[1,"err-message"],[1,"success-message"]],template:function(n,o){1&n&&(e.YNc(0,f,1,0,"app-loader",0),e._UZ(1,"app-header")(2,"app-left-nav"),e.TgZ(3,"div",1)(4,"section",2)(5,"h1"),e._uU(6," Add Document "),e.qZA(),e.TgZ(7,"ol",3)(8,"li"),e._UZ(9,"i",4),e._uU(10," Add Document"),e.qZA()()(),e.TgZ(11,"section",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,v,2,1,"h3",12),e.YNc(19,Z,2,1,"h3",13),e.qZA(),e.TgZ(20,"div",11)(21,"label",14),e._uU(22," Document "),e.qZA(),e.TgZ(23,"input",15),e.NdJ("change",function(J){return o.uploadDoc(J)}),e.qZA()(),e.TgZ(24,"div",11)(25,"button",16),e.NdJ("click",function(){return o.upload()}),e._uU(26,"Upload"),e.qZA()()()()()()()()()),2&n&&(e.Q6J("ngIf",o.appService.loader),e.xp6(18),e.Q6J("ngIf",o.errMessage),e.xp6(1),e.Q6J("ngIf",o.successMessage))},directives:[i.O5,l.R,m.G,g.J],styles:[""]}),t})();var A=c(7579),T=c(4766),U=c(5415);function b(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1," Active "),e.qZA())}function x(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1," Inactive "),e.qZA())}function C(t,s){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",15),e._uU(9,"Download"),e.qZA()(),e.TgZ(10,"td"),e.YNc(11,b,2,0,"span",16),e.YNc(12,x,2,0,"span",16),e.qZA()()),2&t){const n=s.$implicit;e.xp6(2),e.hij(" ",n.docName," "),e.xp6(2),e.hij(" ",n.uploadDate," "),e.xp6(2),e.hij(" ",n.expiredDate," "),e.xp6(2),e.Q6J("href",n.downloadURL,e.LSH),e.xp6(3),e.Q6J("ngIf",1==n.isActive),e.xp6(1),e.Q6J("ngIf",0==n.isActive)}}const _=[{path:"",component:(()=>{class t{constructor(n,o,a){this.apiService=n,this.appService=o,this.router=a,this.documents=[],this.dtOptions={},this.dtTrigger=new A.x,this.baseUrl=T.N.baseUrl}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,processing:!0},this.appService.loader=!0,this.apiService.getAllDocuments().subscribe(n=>{this.appService.loader=!1,n&&n.success?(this.documents=n.docs.map(o=>(o.downloadURL=this.baseUrl+"docs/"+o.docName,o)),this.dtTrigger.next(this.documents)):n&&!n.success&&(this.documents=[],this.dtTrigger.next(this.documents))})}addNew(){this.router.navigate(["/documents/add"])}ngOnDestroy(){this.dtTrigger.unsubscribe()}removeDocument(){this.appService.loader=!0,this.apiService.deleteDocument().subscribe(n=>{this.appService.loader=!1,this.documents=[]})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.s),e.Y36(p.z),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-documents"]],decls:37,vars:3,consts:[[1,"content-wrapper"],[1,"content-header"],[1,"breadcrumb"],[1,"fa","fa-user"],[1,"content"],[1,"row"],[1,"col-xs-12"],[1,"box"],[1,"box-body"],[2,"text-align","right","margin","10px 0"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",2,"margin-left","5px",3,"click"],[2,"height","85vh","overflow","auto"],["id","example1","datatable","",1,"table","table-bordered","table-striped","text-center",3,"dtTrigger","dtOptions"],[4,"ngFor","ngForOf"],["download","",1,"btn","btn-success",3,"href"],[4,"ngIf"]],template:function(n,o){1&n&&(e._UZ(0,"app-loader")(1,"app-header")(2,"app-left-nav"),e.TgZ(3,"div",0)(4,"section",1)(5,"h1"),e._uU(6," Document List "),e.qZA(),e.TgZ(7,"ol",2)(8,"li"),e._UZ(9,"i",3),e._uU(10," Document List"),e.qZA()()(),e.TgZ(11,"section",4)(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"div",9)(17,"button",10),e.NdJ("click",function(){return o.addNew()}),e._uU(18,"Add New"),e.qZA(),e.TgZ(19,"button",11),e.NdJ("click",function(){return o.removeDocument()}),e._uU(20,"Delete Docs"),e.qZA()(),e.TgZ(21,"div",12)(22,"table",13)(23,"thead")(24,"tr")(25,"th"),e._uU(26,"Name"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Upload Date"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Expired Date"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Download"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Status"),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,C,13,6,"tr",14),e.qZA()()()()()()()()()),2&n&&(e.xp6(22),e.Q6J("dtTrigger",o.dtTrigger)("dtOptions",o.dtOptions),e.xp6(14),e.Q6J("ngForOf",o.documents))},directives:[l.R,m.G,g.J,U.G,i.sg,i.O5],styles:[""]}),t})()},{path:"add",component:D}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(_)],d.Bz]}),t})();var y=c(5349),h=c(2382);let N=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[i.ez,S,y.m,h.UX,h.u5]]}),t})()}}]);